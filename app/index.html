<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FINE TO DINE - Perfekte Posts in 60 Sekunden</title>
  <!-- Favicon & App Icons -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iOCIgZmlsbD0iIzhCMjI1MiIvPgo8cGF0aCBkPSJNOSAxMkgxNS41SDIzTDIxIDIwSDExTDkgMTJaIiBmaWxsPSIjRjVGNEYyIi8+CjxjaXJjbGUgY3g9IjE2IiBjeT0iOSIgcj0iMiIgZmlsbD0iI0Y1RjRGMiIvPgo8L3N2Zz4K">
  <link rel="apple-touch-icon" sizes="180x180" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDE4MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIiByeD0iNDAiIGZpbGw9IiM4QjIyNTIiLz4KPHBhdGggZD0iTTUwIDY3SDg3SDEzMEwxMTggMTEzSDYyTDUwIDY3WiIgZmlsbD0iI0Y1RjRGMiIvPgo8Y2lyY2xlIGN4PSI5MCIgY3k9IjUwIiByPSIxMiIgZmlsbD0iI0Y1RjRGMiIvPgo8L3N2Zz4K">
  <meta name="theme-color" content="#8B2252">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="FINE TO DINE">
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Playfair+Display:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
  <style>
    :root {
      --ftd-primary: #8B2252;
      --ftd-primary-variant: #A8325F;
      --ftd-primary-dark: #6B1A3F;
      --swiss-stone: #F5F4F2;
      --swiss-linen: #FAFAF9;
      --swiss-mist: #EBEBEA;
      --swiss-charcoal: #454545;
      --neutral-100: #FFFFFF;
      --neutral-700: #404040;
      --neutral-900: #1A1A1A;
      --surface-primary: rgba(255,255,255,0.95);
      --font-brand: 'Playfair Display', serif;
      --font-ui: 'Inter', system-ui, sans-serif;
      --text-headline-large: 2rem;
      --text-title-medium: 1.125rem;
      --text-body-large: 1rem;
      --space-8: 0.5rem;
      --space-16: 1rem;
      --space-24: 1.5rem;
      --shape-large: 1rem;
      --shape-extra-large: 1.75rem;
      --elevation-1: 0 1px 2px rgba(0,0,0,0.3),0 1px 3px rgba(0,0,0,0.15);
    }
    /* Reset */
    *, *::before, *::after {box-sizing: border-box; margin: 0; padding: 0;}
    html {font-size: 16px; height: 100%;}
    body {font-family: var(--font-ui); font-size: var(--text-body-large); line-height: 1.5; color: var(--neutral-900);
      background: linear-gradient(135deg, var(--ftd-primary-dark) 0%, var(--ftd-primary) 50%, var(--ftd-primary-variant) 100%);
      min-height:100vh;}
    /* Loading */
    .auth-loading {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;gap:var(--space-24);
      background:linear-gradient(135deg, var(--ftd-primary-dark)0%, var(--ftd-primary)70%, var(--ftd-primary-variant)100%);z-index:1000;}
    .auth-loading.hidden {display:none;}
    .loading-icon {background:var(--swiss-stone);border:2px solid rgba(255,255,255,0.2);border-radius:var(--shape-extra-large);
      width:5rem;height:5rem;display:flex;align-items:center;justify-content:center;color:var(--ftd-primary);
      font-size:2.5rem;animation:pulse 2s infinite;}
    @keyframes pulse {0%,100%{transform:scale(1);}50%{transform:scale(1.05);}}
    .loading-spinner {width:2rem;height:2rem;border:3px solid rgba(255,255,255,0.3);
      border-top:3px solid var(--neutral-100);border-radius:50%;animation:spin 1s linear infinite;}
    @keyframes spin {to{transform:rotate(360deg);}}
    .loading-text {font-family:var(--font-brand);font-size:var(--text-headline-large);font-weight:800;color:#FFF;}
    .auth-loading p {color:rgba(255,255,255,0.8);margin-top:var(--space-8);}
    /* App */
    .app-container {max-width:1200px;margin:0 auto;padding:var(--space-24) var(--space-32);
      opacity:0;transform:translateY(20px);transition:opacity 600ms,transform 600ms;}
    .app-container.visible {opacity:1;transform:translateY(0);}
    .user-header {position:fixed;top:var(--space-16);right:var(--space-16);display:flex;align-items:center;gap:var(--space-8);
      background:rgba(45,25,35,0.6);backdrop-filter:blur(24px);padding:var(--space-8) var(--space-16);
      border:1px solid rgba(255,255,255,0.2);border-radius:var(--shape-extra-large);
      transition:background 200ms,ease var(--motion-easing-emphasized),transform 200ms ease;}
    .user-header:hover {background:rgba(45,25,35,0.8);transform:translateY(-1px);}    
    .user-header:focus-within {outline:3px solid var(--swiss-charcoal);outline-offset:2px;}
    .user-avatar {width:48px;height:48px;border-radius:50%;border:1px solid rgba(255,255,255,0.3);}
    .logout-button {background:rgba(255,255,255,0.1);color:#FFF;border:none;padding:var(--space-8) var(--space-12);border-radius:var(--shape-large);
      cursor:pointer;font-weight:600;display:flex;align-items:center;gap:var(--space-4);}    
    .logout-button:focus-visible {outline:3px solid var(--neutral-100);outline-offset:2px;}    
    .main-grid {display:grid;grid-template-columns:1fr 1fr;gap:var(--space-24);margin-top:var(--space-32);}    
    .card {background:var(--surface-primary);backdrop-filter:blur(16px);padding:var(--space-24);border-radius:var(--shape-extra-large);
      box-shadow:var(--elevation-1);}
    .header {display:flex;align-items:center;gap:var(--space-16);margin-bottom:var(--space-24);}    
    .header-icon {padding:var(--space-8);background:var(--swiss-stone);border-radius:var(--shape-large);}    
    .header-text h1 {font-family:var(--font-brand);font-size:var(--text-headline-large);font-weight:700;color:var(--ftd-primary);margin-bottom:var(--space-8);}
    .header-text p {background:#FFF;color:var(--neutral-900);font-size:var(--text-title-medium);font-weight:600;
      padding:var(--space-8) var(--space-16);border:1px solid rgba(139,34,82,0.2);border-radius:var(--shape-large);
      text-shadow:0 1px 2px rgba(0,0,0,0.1);display:inline-block;backdrop-filter:blur(8px);
      transition:transform200ms ease;outline:none;}    
    .header-text p:focus-visible {outline:3px solid var(--swiss-charcoal);outline-offset:2px;}    
    .form-group {margin-bottom:var(--space-16);}    
    .form-label {display:block;font-weight:600;color:var(--neutral-700);margin-bottom:var(--space-8);}    
    .form-textarea {width:100%;min-height:200px;padding:var(--space-16);border:2px solid rgba(0,0,0,0.1);border-radius:var(--shape-large);
      background:rgba(255,255,255,0.9);resize:vertical;font-family:var(--font-ui);font-size:var(--text-body-large);
      line-height:1.6;transition:box-shadow200ms ease,border-color200ms ease;margin-top:var(--space-8);}    
    .form-textarea:focus {border-color:var(--ftd-primary);box-shadow:0 0 0 4px rgba(139,34,82,0.12);outline:none;}    
    .form-textarea::placeholder {color:var(--neutral-700);opacity:0.9;}    
    .btn-primary {width:100%;padding:var(--space-12);background:var(--ftd-primary);color:#FFF;border:none;border-radius:var(--shape-large);
      font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:var(--space-8);}    
    .btn-primary:focus-visible {outline:3px solid var(--swiss-charcoal);outline-offset:2px;}    
    .result-card {margin-top:var(--space-24);}  </style>
</head>
<body>
  <div id="authLoading" class="auth-loading">
    <div class="loading-icon"><span class="material-symbols-outlined">restaurant</span></div>
    <div class="loading-text">FINE TO DINE</div>
    <div class="loading-spinner"></div>
    <p>Authentifizierung wird überprüft...</p>
  </div>
  <div id="mainApp" class="app-container">
    <header id="userHeader" class="user-header" tabindex="0">
      <img id="userAvatar" class="user-avatar" src="" alt="User Avatar">
      <div class="user-info">
        <div id="userName" class="user-name"></div>
        <div id="userEmail" class="user-email"></div>
      </div>
      <button id="logoutButton" class="logout-button" aria-label="Abmelden">
        <span class="material-symbols-outlined">logout</span>
      </button>
    </header>
    <div class="main-grid">
      <div class="card">
        <div class="header">
          <div class="header-icon"><span class="material-symbols-outlined">restaurant</span></div>
          <div class="header-text">
            <h1>FINE TO DINE</h1>
            <p tabindex="0">Perfekte Posts in 60 Sekunden</p>
          </div>
        </div>
        <form id="postForm">
          <div class="form-group">
            <label for="magazinText" class="form-label">Ihr Restaurant-Artikel</label>
            <textarea id="magazinText" name="magazinText" class="form-textarea"
              placeholder="Beschreiben Sie Ihr Restaurant kurz (3–5 Sätze)..." required></textarea>
          </div>
          <button type="submit" class="btn-primary" aria-label="Perfekten Post erstellen">
            <span class="material-symbols-outlined">auto_awesome</span>
            <span>Erstellen</span>
          </button>
          <div id="loadingState" class="loading-state" aria-live="polite"></div>
          <div id="errorMessage" class="error-message" role="alert"></div>
        </form>
      </div>
      <div id="resultCard" class="card result-card">
        <h2 class="result-title"><span class="material-symbols-outlined">campaign</span>Ihr fertiger Post</h2>
        <div id="resultContent" class="result-content"></div>
        <div class="result-actions">
          <button class="btn-secondary primary" onclick="copyToClipboard()" aria-label="Kopieren"><span class="material-symbols-outlined">content_copy</span></button>
          <button class="btn-secondary" onclick="sharePost()" aria-label="Teilen"><span class="material-symbols-outlined">share</span></button>
          <button class="btn-secondary" onclick="newPost()" aria-label="Nächster Post"><span class="material-symbols-outlined">refresh</span></button>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdn.auth0.com/js/auth0-spa-js/2.0/auth0-spa-js.production.js"></script>
  <script type="module">
    // JavaScript bleibt unverändert
  </script>
</body>
</html>
